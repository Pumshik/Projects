# Stack Allocator & Linked List Implementation (C++17)

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–∞ –Ω–∞ —Å—Ç–µ–∫–µ –∏ –∞–ª–ª–æ–∫–∞—Ç–æ—Ä-–æ—Å–æ–∑–Ω–∞–Ω–Ω–æ–≥–æ –¥–≤—É—Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞

## –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –ö–ª–∞—Å—Å `StackAllocator`
#### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ/–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ**:
  - `StackAllocator<T, N>`: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä N (—Å—Ç–µ–∫)
  - `StackAllocator<T>`: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —ë–º–∫–æ—Å—Ç—å (–∫—É—á–∞)
- **–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏**:
  - –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ alignment –¥–ª—è —Ç–∏–ø–æ–≤
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `alignas(std::max_align_t)` –¥–ª—è –±—É—Ñ–µ—Ä–∞
- **–ù—É–ª–µ–≤—ã–µ –∞–ª–ª–æ–∫–∞—Ü–∏–∏**:
  ```cpp
  StackStorage<1024> storage;
  StackAllocator<int, 1024> alloc(storage);
  std::list<int, decltype(alloc)> lst(alloc); // –ë–µ–∑ heap-–∞–ª–ª–æ–∫–∞—Ü–∏–π

### –ö–ª–∞—Å—Å List
#### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

  -**–ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å STL**:

        - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤

        - –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã —Å –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–∞–º–∏

        - –ú–µ—Ç–æ–¥—ã push_back, insert, erase –∏ –¥—Ä.

  -**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**:

        - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —É–∑–ª–æ–≤

        - –õ–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ StackAllocator

  -**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**:

        - –°—Ç—Ä–æ–≥–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π

        - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ self-assignment

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
### StackStorage

    - –ó–∞–ø—Ä–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

    - –ú–µ—Ç–æ–¥—ã allocate/deallocate —Å —É—á—ë—Ç–æ–º –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è

### StackAllocator

    - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π Allocator concept

    - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ rebind –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Ç–∏–ø–æ–≤

### List

- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**:

        - [[no_unique_address]] –¥–ª—è –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–∞

        - EBO

- **–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã**:

        - Bidirectional –∏ reverse –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã

        - –ö–æ–Ω–≤–µ—Ä—Å–∏—è –º–µ–∂–¥—É const/non-const
  
## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
 - 
‚öôÔ∏è –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
cpp
Copy

// –°—Ç–µ–∫-–∞–ª–ª–æ–∫–∞—Ç–æ—Ä –Ω–∞ 1MB
StackStorage<1024*1024> storage;
StackAllocator<std::string, 1024*1024> alloc(storage);

// –°–ø–∏—Å–æ–∫ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–æ–º
List<std::string, decltype(alloc)> strings(alloc);
strings.push_back("Hello");
strings.emplace_back("World");

// –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ STL –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏
auto it = std::find(strings.begin(), strings.end(), "World");
if (it != strings.end()) {
    strings.erase(it);
}

üõ† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

    –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä: C++17+

    –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏: <memory>, <type_traits>, <iterator>

    –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: –í–∫–ª—é—á–µ–Ω–Ω—ã–µ (-O2/-O3)

‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

    –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä StackStorage –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Å—Ç–µ–∫–æ–º

    –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–æ–≤ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

    StackAllocator –Ω–µ thread-safe
